<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="UserDAO">
	
	<insert id="insertUser_tel">
		INSERT INTO USER_TABLE VALUES (uuid(), #{user_tel}, 'null', 'null', 'null', 'null', 'null', 0)
	</insert>	

	<update id="updateUserArea">
		UPDATE USER_TABLE SET USER_SINM=#{user_siNm}, USER_SGGNM=#{user_sggNm}, USER_EMDNM=#{user_emdNm} WHERE USER_NICK='null'
	</update>
	
	<select id="nickDupCheck" resultType="integer"> 
		SELECT COUNT(*) FROM USER_TABLE WHERE USER_NICK=#{user_nick} 
	</select>

	<select id="userTelCheck" resultType="integer"> 
		SELECT COUNT(*) FROM USER_TABLE WHERE USER_TEL=#{user_tel} 
	</select>
	
	<update id="updateUserNick">
		UPDATE USER_TABLE SET USER_NICK=#{user_nick}, USER_PROFILEIMG=#{user_profileImg} WHERE USER_TEL='01099069306'
	</update>	
	
	<select id="getUser" resultType="user">
		SELECT * FROM USER_TABLE WHERE USER_TEL=#{user_tel}
	</select>
	
<!-- 	2022.04.26 inquiry 추가 -->
	<select id="getUserInfo" resultType="user">
		SELECT * FROM USER_TABLE WHERE USER_UUID=#{user_uuid}
	</select>
	
	<select id="nameCheck" resultType="integer">
		SELECT COUNT(*) FROM user_table WHERE user_nick =#{sm_name} 
	</select>
	
	<update id="updateUser">
		<![CDATA[
		UPDATE USER_TABLE SET  USER_TEL=#{user_tel}, USER_NICK=#{user_nick} WHERE USER_nick=#{user_nick}
		]]>
	</update>
	
	<select id="getMypageUser" resultType="user">
		SELECT * FROM USER_TABLE WHERE USER_UUID=#{user_uuid}
	</select>

		
</mapper>
